# Концепция нарратива

---

## Структура

1. Квесты могут быть трёх видов: _основные_, _побочные_ и _генерируемые_. 
2. _Основные квесты_ - сюжетные ветки, которые состоят из отдельных заданий, обязательных для сюжетной кампании. Эти ветки открываются последовательно, их завершение открывает возможность перехода в следующий период. В них раскрывается основной сюжет периода. По времени не ограничены.
3. _Побочные квесты_ - такие же ветки из заданий, но не обязательные для прохождения. Они развиваются параллельно с основными и призваны дополнительно раскрывать сюжет, их выполнение даёт бонус к основным веткам через выстраивание положительных отношений между персонажами и т.д. Побочные ветки могут быть ограничены по времени, например, в рамках определённых основных веток, при завершении которых доступ к побочным закрывается. Награды за побочные квесты: очевидные - прокачка персонажа, выдающего побочный квест, дополнительные ресурсы, предметы кастомизации; неочевидные - влияние на основные сюжетные ветки, прохождение "побочек" добавляет новые варианты событий, облегчает выполнение некоторых заданий (пример: завершение ветки Убба сохраняет его как союзника, даёт дополнительных бойцов в виде неандертальцев в финальной сюжетной битве).
4. _Генерируемые квесты_ - "дейлики" или "виклики", простые одиночные задания, не влияющие на сюжет. Они побуждают игрока исследовать карту, собирать определённые ресурсы, побеждать противника и т.д. Своего рода "рутина", имеют условный контекст, генерируются случайным образом на каждый день/неделю. Соответственно ограничены по времени днём/неделей. Новые квесты появляются регулярно для всех игроков вне зависимости от прохождения основной сюжетной линии, могут быть доступны и после. Смысл их выполнения - в дополнительных наградах (наборы ресурсов/предметы кастомизации). Идея генерируемых квестов в том, чтобы они могли генерироваться машинным способом (если это возможно). Можно их писать и вручную, но тогда они должны обладать минимальной проработкой, чтобы их можно было делать быстро, дёшево и сердито. В этом случае их нужно "настрогать" в большом объёме (условно 30 штук), а дальше они будут выпадать игрокам в случайном порядке. Могут повторяться, но с определённым интервалом (не чаще раза в неделю при ежедневной генерации).
5. Все доступные квесты игрок может найти в специальном разделе игрового меню (условный "дневник"). Там они указаны по схеме _"Название ветки/Название квеста/Актуальная задача"_. 
6. Активация основных и побочных квестов происходит на игровой карте. Старт квеста происходит после прибытия юнитов игрока в нужную точку. Иногда квесты могут быть скрыты "туманом войны", и их необходимо найти. В этом случае у игрока должна быть информация, в каких краях искать. Например, в "дневнике" под соответствующей веткой висит сообщение _"Шаман ушёл к Источнику три дня назад и не вернулся. Нужно его отыскать"_. Соответственно, старт квеста произойдёт, когда игрок подойдёт к локации "Источник". Квесты можно отслеживать и "закреплять" на экране, отслеживая прогресс выполнения.
7. Лорная информация - история ключевых локаций, легенды и мифы, справка о персонажах - вносится в своего рода "глоссарий". Это отдельный пункт в меню. Информация открывается по мере обнаружения географических объектов, знакомства с ключевыми персонажами, поиска пещер с наскальными рисунками, диалогов, открытия новых типов юнитов и построек, победы над разными противниками. "Глоссарий" призван обеспечить большее погружение в игру и её мир, в нём хранится полезная информация, но никакого существенного влияния на игровой процесс он не оказывает. Есть вариант увеличить это влияние, чтобы поиск лорной инфы вознаграждал игрока бонусами к игре или новыми вариантами развития сюжета, но я считаю, на раннем этапе это не обязательно. Можно оставить эту идею на перспективу.

---

## Подача сюжета

1. Поскольку игровой процесс полностью свободный и никак не ограничивает игрока, режиссура и постановка в геймплее не используются. Могут быть небольшие исключения (например, "случайное" событие на самом деле не случайное, а заскриптованное, или посреди важной сюжетной битвы вдруг появляется отряд союзника - результат выбора игрока, сделанного ранее).
2. Во время игрового процесса могут происходить фоновые диалоги между важными персонажами, которые так же срабатывают по скрипту. Они не несут в себе ключевой информации, а нужны для того, чтобы обратить внимание игрока на что-то важное поблизости - вход в пещеру, цель квеста, интересное место и т.д.
3. Большая часть сюжета подаётся через катсцены на движке. Как правило, они происходят в начале и конце квеста, но не обязательно. В них не происходит значительного "экшена", просто игровые модельки общаются и выполняют простые действия. Важно! Катсцены не могут врубиться внезапно посреди игрового процесса, они всегда привязаны к конкретным действиям игрока - старт квеста, завершение квеста, выполнение сюжетной задачи. Также катсцена не может запуститься в боевой ситуации - только в состоянии "покоя", поэтому, если на момент завершения задачи (например, достиг нужной точки) игрок ведёт бой, его необходимо закончить - лишь после этого сработает скрипт завершения квеста и пойдёт катсцена.
4. Также есть катсцены пререндеренные. Это короткие анимационные ролики, стилизованные под соответствующую эпоху (например, в Тёмной эпохе это могут быть "живые" наскальные рисунки под закадровый голос). Этих катсцен всего 2-3 на каждый период. Они нужны для вступления и завершения, но могут быть и в отдельных случаях где-то в середине сюжета, в кульминационный момент (например, Грарх добыл огонь - важность момента подчёркивается видеороликом, но это ещё не финал, ведь впереди его ещё ждёт битва с медведем).

---

## Оформление

1. Квесты не подразумевают наличие маркеров в процессе их выполнения, мы не ведём игрока за ручку к нужной пещере, он находит её самостоятельно.
2. Однако если зона старта квеста находится в поле зрения игрока - в этом месте присутствует визуальный маркер, чтобы игрок понимал, что здесь он может начать квест. Для старта квеста необходимо кликнуть по самому маркеру - это поможет избежать ситуаций, когда игрок просто проходил мимо, а его случайно затащило в сюжетную задачу, которую он не хотел сейчас брать.
3. Маркеры основных и побочных квестов отличаются и должны считываться на интуитивном уровне.
4. Интересные места, ключевые объекты и прочие "записки", которые содержат в себе лорную информацию так же могут помечаться специальным визуальным маркером непосредственно на игровом экране. Это нужно для того, чтобы игрок мог отличить обычную пещеру от "лорной" и не заглядывал в каждую в поисках интересной инфы.
5. Квесты и статьи в "глоссарии" могут сопровождаться изображениями в художественном стиле. Здесь могут пригодиться рабочие эскизы.
6. В игровом профиле игрока может отображаться аватар главного персонажа эпохи. Именно здесь, в случае Грарха, можно показать внешнее преображение персонажа по сюжету, от запуганного пещерного жителя к отважному воину. Также эта фишка позволит вводить магазин с "косметикой". Люди любят украшать свои профили всякой донатной ерундой, поэтому пусть "наряжают" свой аватар разными аксессуарами, которые открываются за выполнение квестов или покупаются в игровом магазине.

---

## Примеры

_**Примечание:** Данные описания - условные, их цель показать квесты с механической точки зрения, над художественной и сценарной частью я здесь не запариваюсь. Просто "Сделать А, чтобы было Б". Какие-то из этих примеров я возьму за основу при полноценной работе, и уже там сделаю по красоте._

### Сюжетный квест (основной, постановочный)

1. **Название:** "Мотылёк и пламя"
2. **Описание:** "Грарх понимает, что силой Урсу победить не удастся. Он ищет оружие, способное вселить ужас в огромного медведя. Грарх чувствует порыв отправиться в глухую чащу на поиски этого оружия. Он верит, что земля сама приведёт его к нему..."
3. **Основная задача:** "Добыть оружие против Урсы"
4. **Подзадачи (по порядку):** "Поискать в логове волков", "Осмотреть уничтоженное поселение", "Подняться на Орлиную гору", "Спастись от Урсы", "Вернуться в поселение с оружием"
5. **Награда:** Механики огня, новый юнит - "Хранитель огня"

#### Катсцена (на движке)

- Грарх стоит перед входом в чащу. 
- За его спиной отряд охотников. 
- Рядом - Убб. Грарх и Убб переглядываются. 
- Грарх выхватывает каменный топор, угрожающе им взмахивает.
- Весь отряд делает то же самое и издаёт воинственный рык.
- Делают шаг в чащу.

#### Новая задача: "Поискать в логове волков"

(все диалоги - фоновые)

**Грарх:** _"Волки есть охотники. Охотники носить оружие. Искать логово - находить оружие."_

Отряд добирается до логова и уничтожает стаю волков. В логове валяется хорошая палка с заострённым концом

**Грарх:** _"Крепкая. Может пригодиться для оружие. Искать ещё."_

#### Новая задача: "Осмотреть уничтоженное поселение"

**Убб:** _"Братья жить рядом. Раньше жить - сейчас умирать. Урса убить всех."_

**Грарх:** _"Надо смотреть. Может что-то остаться."_

Отряд добирается до разрушенного поселения неандертальцев. Зачищают его от хищников-падальщиков, находят какой-то тотем, вылепленный из смолы. Убб его забирает.

**Убб:** _"Память о братья. Убб забирать и беречь."_

#### Новая задача: "Подняться на Орлиную гору"

**Грарх:** _"Дальше идти. Никто не бывать на Гора. Не знать, что там. Грарх узнать."_

Отряд поднимается на гору, по пути отбиваясь от диких орлов.

#### Катсцена (на движке)

- Отряд видит сухое дерево на краю скалы. На небе собираются тучи, начинается дождь
- Грарх подходит к дереву и показывает на орлиное гнездо: "Там!"
- Раздаётся рык, весь отряд резко разворачивается и хватает оружие.
- На них надвигается медведь Урса.
- _"Урсааа!"_
- Медведь бросается в атаку.

#### Новая задача: "Спастись от Урсы"

Отряд сражается с Урсой, медведь убивает и ранит многих. Внезапно молния бьёт в дерево и оно загорается.

#### Катсцена (на движке)

- Урса ревёт в ужасе и убегает.
- Отряд Грарха в панике отшатывается от горящего дерева. Грарх стоит и не сводит глаз с огня.
- Он берёт найденную палку, насаживает на неё смоляной тотем и поджигает её. Разворачивается к отряду.
- "Грарх найти оружие. Грарх убивать Урса!"

#### Новая задача: "Вернуться в поселение с оружием"

**Грарх:** _"Приносить домой! Оберегать! Нельзя потухнуть!"_

Открывается новая механика: юнит "Хранитель огня". В условиях дождя отряд несёт огонь в поселение.

Отряд приносит огонь в поселение.

#### Катсцена (пререндер)

Подвижные наскальные рисунки на стене пещеры: Грарх приносит огонь в племя. Племя склоняется перед ним. Грарх высоко поднимает огонь. Огонь обволакивает изображение Урсы.

**Рассказчик:** _"Грарх добыть оружие против Урса. Он перебороть страх, встать на новая ступень - и племя это видеть. Грарх сжечь старый мир, где человек - слабый. Грарх строить новый мир, где человек - сильный. Но Грарх этого ещё не знать. Пока он хотеть сжечь только Урса..."_

### Сюжетный квест (побочный, свободный режим)

1. **Название:** "Семья - это главное"
2. **Описание:** "Убб кажется грустным. Он часто уходит из племени и бродит по округе один. Это опасно, с ним стоит поговорить об этом."
3. **Основная задача:** "Поднять Уббу настроение"
4. **Подзадачи:** "Отыскать неандертальцев в округе и привести их в поселение"
5. **Награда:** Прокачка Убба как юнита, новый тип юнита, укрепление отношений (неочевидно)

#### Катсцена (на движке)

Диалог Убба и Грарха. Убб просит отыскать его братцев-неандертальцев в округе и привести в поселение. Он тоскует по сородичам.

#### Новая задача: "Отыскать неандертальцев в округе и привести их в поселение"

Квест проходится в свободном режиме и не имеет строгого сценария. Игрок может целенаправленно исследовать карту и искать неандертальцев или заниматься своими делами, находя их случайно - все они зареспаунились неподалёку. 

Некоторым неандертальцам может потребоваться помощь в сражении с противником. Некоторых можно найти уже мёртвыми. Убб (при его наличии в отряде) будет комментировать каждого найденного неандертальца фоновой репликой. 

Неандертальцы присоединяются к отряду. Для успешного выполнения квеста нужно вернуть в поселение условные 70% от максимального числа. Можно отправлять их по одному, но желательно сопровождать. Можно брать с собой на свои дела. Главное - привести живыми. 

#### Катсцена (на движке)

Убб благодарит Грарха за помощь в поиске его братьев. Рассказывает какую-то часть своей предыстории.

### Генерируемый квест

1. **Название:** "Пищевая цепь"
2. **Описание:** "Поселение растёт и вашим жителям нужно больше пропитания. Оленина сгодится."
3. **Основная задача:** "Поймать N оленей"
4. **Необязательное усложнение:** "Для поимки использовать только ловушки, а не оружие" - даёт бонус к ресурсам (якобы так племя получает не только мясо, но и неповреждённые шкуры)
5. **Награда:** Бонус опыта/ресурсы/предметы кастомизации (награда увеличивается при выполненном усложнении)

"Дейлик", выполняется в свободном режиме, без диалогов и катсцен. Ограничен по времени. Усложнение необязательно для выполнения квеста, но даёт бонус к награде. Можно продумать несколько вариантов усложнения для каждого квеста, которые будут выбираться рандомно - это также добавит разнообразия "дейликам".