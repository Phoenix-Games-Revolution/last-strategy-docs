# Геймдизайн - Общие положения

### В документе описываются ключевые тезисы, связанные с ними вопросы и варианты решения.

**Структура:** Документ делится на тематические разделы, состоящие из отдельных пунктов. В некоторых случаях после номера стоит маркировка:

- Пункты, отмеченные (!) являются основополагающими и не подлежат обсуждению. Они используются как основа для решения спорных моментов.
- Пункты, отмеченные (?) нуждаются в дополнительном обсуждении, поскольку рождают вопросы. Эти вопросы с вариантами решения перечислены в конце раздела.
- Неотмеченные пункты находятся в подвешенном состоянии, их можно как записать в базовые, так и вынести на обсуждение.
- Конечная цель - избавиться от всех "спорных" пунктов, перевести все пункты в категорию "базовые".

Сам документ не претендует на фундаментальность, может (и даже, пожалуй, должен) изменяться в процессе разработки с появлением новых вводных. По сути это - рабочий инструмент, доска, где закрепляются рабочие средства, актуальные задачи и предложения их решения.

## Взаимодействие игроков

1. **(!)** Игроки объединяются в группы (кластеры), на начальном этапе их число на один кластер - 8 игроков на масштаб карты 1024х1024. В дальнейшем масштаб будет увеличен.
2. **(!)** Значительная часть игрового процесса строится вокруг взаимодействия игроков: они могут воевать, объединяться в союзы (кланы, альянсы), торговать, держать нейтралитет и т.д. Каждая из этих форм взаимодействия отличается глубокой геймплейной проработкой.
3. **(?)** Помимо игроков на карте присутствуют NPC, вписанные в контекст посредством нарратива. В зависимости от эпохи это может быть племя, другое королевство, чужая страна, иноземная раса пришельцев и т.д.
4. **(!)** Планируется взаимодействие игроков из разных эпох (первобытные варвары против космодесантников)
5. **(?)** Игроки из разных эпох взаимодействуют в свободном режиме или специальном режиме PvP.
6. **(?)** Игра не останавливается, когда игрок офлайн. На него можно напасть.
7. Игроки одного кластера плюс-минус подогнаны по одному уровню.
8. **(?)** В случае, если один из игроков сильно опережает в развитии соседей по кластеру, он меняет кластер на более подходящий своему уровню.
9. **(!)** Глобальная задача: создать игру, в которой можно будет "жить".

---

## Вопросы:

1. **Как именно будет реализована система столкновения разных эпох?**

- Если игроки одного кластера находятся на примерно одном уровне, они вряд ли будут существовать в разных эпохах. Можно ввести функцию выбора эпохи из числа уже открытых игроком и свободное переключение между ними. Однако, переключаться на предыдущие эпохи, когда дошёл до максимальной - странно и невыгодно. И не будет ли происходить конфликт ландшафта?
- Если игроки одного кластера не подгоняются по уровню, а распределяются случайно, чтобы можно было попасть в компанию из разных эпох, это может быть несправедливо по отношению к новичкам и требует усиленной проработки баланса. Поэтому такой вариант не предпочтителен.
- В изначальном концепте игры есть упоминание отдельного PvP-режима одиночных битв в разных форматах. Это наиболее удобный вариант для реализации идеи пересечения эпох, однако в процессе работы сложилось впечатление, что от этой идеи отказались - режим у игры должен быть один постоянный, в котором всё и происходит, и развитие, и взаимодействие. Если это не так и никакого отказа не было, то вопрос снимается, режим PvP переходит в категорию "базовых" пунктов.
- Функцию свободного переключения между открытыми эпохами так же можно закрепить в режиме свободной игры и вынести на обсуждение детали её реализации.

2. **NPC** 

- Сюжетные противники одни на кластер для всех игроков? "Боссы" (типа медведя Урсы) существуют в одном экземпляре или в количестве, равном количеству игроков в кластере? В этом случае каждая копия босса существует для "своего" игрока, но отсутствует для других? Это позволит каждому игроку развиваться в своём темпе независимо от других и лишит ситуации, что игрок по сюжету добрался до босса, который уже давно убит другими игроками. Однако технически звучит довольно странно и может быть сложно реализуемо.
- Другой вариант: NPC как таковые отсутствуют в принципе, их роль, в т.ч. "боссов" могут выполнять другие игроки. Например, когда один из игроков решает запустить сюжетный квест, он как бы оставляет заявку, на которую может ответить любой другой игрок из его кластера, чтобы отыграть роль сюжетных противников. Такой вариант с одной стороны снимает все вопросы, связанные с вражеским ИИ (за отсутствием самого ИИ), однако ставит много других вопросов: баланс? игра в поддавки? нечестная прокачка? Параллельная сюжетная линия за врагов? Так, стоп. А это идея...
- Исходя из предыдущего варианта: Параллельная сюжетная линия за врагов. Её квесты полностью идентичны основной, но рассказывают историю с другой стороны. Грубо говоря, в одном и том же сюжете один игрок отыгрывает "людей", а другой - "орков". В этом случае все их сюжетные стычки - это стычки живых игроков, а не игроков с компьютером. Это звучит интересно, но тоже рождает кучу других вопросов: игроки делятся на пары? как играть за медведя в палеолите, а главное - зачем? в этом случае все квесты завязаны на онлайне других игроков? В общем, тоже сомнительно, но обсудить отдельно можно.
- Наиболее рабочим вариантом мне кажется респаун противников и боссов. Обычные NPC-противники и их лагеря генерируются на постоянной основе в случайных местах карты и не могут закончиться - как и дикие животные. Это обеспечит симуляцию живого мира: игроки уничтожили вражеское племя, но через какое-то время оно восстановилось. Что касается "боссов" или легендарных противников - они существуют в единственном экземпляре для всех игроков кластера, но могут возрождаться через какое-то время. В этом случае существует вариативность: игрок может и сам атаковать босса в любое время, и объединиться с другими игроками, чтобы вместе его уничтожить, и проходить его по сюжету с сюжетными баффами, находясь в контексте... И всё это можно повторять ради новых наград, время от времени приходить к медведю Урсе и начищать ему морду. Так же такой вариант даёт возможность не привязывать боссов к сюжету или связанным с ними событиям, но дать им возможность всегда присутствовать на игровой карте, держать какой-то район, время от времени огребать от игроков и снова возрождаться.

3. **Офлайн - что происходит с игроком, когда он не играет?**

- Игра никогда не останавливается. Если цель в том, чтобы игроки жили в ней, это означает, что никакие процессы не ставятся на паузу с выходом из игры: юниты продолжают собирать ресурсы, воины патрулируют местность и т.д. Это идеальный вариант для тех, кто готов посвящать игре максимум времени, но есть и "подводные". Например, достаточно пары раз, чтобы включив игру неопытный игрок обнаружил своё поселение уничтоженным другими игроками, которые подгадали его уход, и он навсегда игру бросил. Стоит ли продумать какую-то внутреннюю защиту "новичков"? 
- Как минимум, можно гарантировать игрокам защиту хотя бы от нападений NPC, когда они офлайн. А "живым" противникам усложнить задачу - сделать юниты и строения в офлайне "фантомными": они как бы есть, их можно изучить и запомнить, но нельзя напасть. Можно помешать, например, обнести рудники стенами, понаставить вышек вокруг поселения, в общем - обложить. В этом случае игрок сможет при заходе в игру и обнаружив врага у ворот предпринять какие-то действия.
- Ещё, как вариант, продумать систему оповещений. Чтобы на условную почту игроку приходили сообщения, что на него напали. Либо создать приложение-компаньон, которое не заменит саму игру, но поможет контролировать состояние своего поселения на работе/учёбе/в дороге. Такое решение одновременно сохранит систему "жить в игре", и в то же время избавит игроков от неприятных сюрпризов. Это будет более честно, особенно по отношению к новичкам.

---